
- Moderne Unix-Systeme verwenden virtuellen Speicher. Jeder Prozess hat einen eigenen virtuellen Adressraum, der in Seiten fester Größe (typisch: 4096 Byte) unterteilt ist.
    
- Die MMU übersetzt virtuelle in reale Adressen mit Hilfe einer mehrstufigen, vom Kernel verwalteten Seitentabelle. Bei jedem Kontextwechsel muss die Seitentabelle des neuen Prozesses geladen werden.
    - **Memory Management Unit (MMU)**, 
    
- Swap Space dient zur Auslagerung nicht benötigter Seiten auf persistente Datenträger. Er kann in einer Partition oder einer Datei angelegt werden. Jedes Unix-System sollte Swap Space haben.
    - 通过交换空间将不需要的页( virtuelle addressraum 被 分为一页一页保存) 换到 persistente Datenträger 上去. 
    
- Wenn zur Laufzeit kein Speicher mehr verfügbar ist (out of memory), wählt der Kernel einen Prozess aus beendet diesen. Dadurch können unerwünschte Seiteneffekte entstehen.
    - 当一个process 不再需要 Speicher 的时候, kernel 就会结束掉这个 Kernel 
    
- Der virtuelle Adressraum eines Prozesses besteht aus verschiedenen Segmenten: Text, Initialized Data, Uninitialized Data, Heap, Shared Libraries, Stack.
    
- Der Kernel-Speicher ist in allen Prozessen gleich am oberen Ende des Adressraums abgebildet. Dies ist zur effizienten Durchführung von System Calls erforderlich. 
    - Kernel-Speicher ist in allen Prozessen gleich am oberen Ende des Adressraums  Kernel-Speicher 在 Addressraum 的最上面,  这样方便 System Calls 的调用

- Der Heap ermöglicht der Anwendung die dynamische Allokation von Speicher. Er wird von Funktionen der C-Systembibliothek verwaltet, z.B. `malloc()`. Der Kernel stellt nur das Speichersegment dafür bereit.
    - Heap 使得  Speicher 的动态分配变为可能 , c语言中的 malloc() 可以实现动态分配 
    
- Mit `mmap()` kann ein Ausschnitt aus einer Datei, ein I/O-Gerät oder Shared Memory in den Adressraum eines Prozesses abgebildet werden (Memory Mapping).
    - 文件/IO设备 可以通过 Memoery mapping 映射到 Adressraum eines Prozesses 
    
- Nach einem `fork()` teilen sich Eltern- und Kindprozess zunächst den Speicher. Erst wenn einer der Prozesse auf eine Seite schreibt, wird diese Seite kopiert (copy-on-write).
    - Nach einem `fork()`, Eltern- und Kindprozess 先共享一个 Speicher
    - 一个Prozees的一部分 写入一个page 中的时候 ,   这个 Seite 才会被拷贝, 然后 这个 page 只属于 Elternprozess 
    

